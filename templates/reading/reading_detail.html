
{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>{{ lesson.title }}</title>
    <link rel="stylesheet" href="{% static 'reading/reading.css' %}" />
  </head>

  <body data-lesson-id="{{ lesson.id }}">
    <!-- Back Link -->
    <p><a href="{% url 'reading' %}">&larr; Back to lessons list</a></p>

    <!-- Lesson Title -->
    <h2 id="lessonTitle">{{ lesson.title }}</h2>

    <!-- Lesson Content -->
    <div id="lessonText">
      {% if lesson.content %} {% for paragraph in lesson.content.splitlines %}
      <p>{{ paragraph }}</p>
      {% endfor %} {% else %}
      <p>No content available for this lesson.</p>
      {% endif %}
    </div>

    <!-- Voice Selection -->
    <label for="voiceSelect">Choose Voice:</label>
    <select id="voiceSelect"></select>

    <!-- Reading Controls -->
    <div class="controls">
      <button id="readBtn">Tutor Reads</button>
      <button id="pauseBtn">Pause</button>
      <button id="resumeBtn">Resume</button>
      <button id="stopBtn">Stop</button>
    </div>

    <!-- Recording Controls -->
    <div class="recording">
      <button id="start-record-btn">Student Reads</button>
      <button id="stop-record-btn">Stop</button>
      <button id="get-feedback-btn">Get Feedback</button>
    </div>

    <!-- Feedback -->
    <div id="feedbackBox">Feedback will appear here...</div>

    <!-- Hidden list container (required by JS) -->
    <div id="lesson-list" style="display: none"></div>

    <!-- JS Modules (must load in this order) -->
    <script type="module" src="{% static 'reading/reading.main.js' %}"></script>
  </body>
</html>
